{"ast":null,"code":"import _objectSpread from\"/Users/idcuq/Documents/AION-X POLYGON/Aion-x-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useContext,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const BattleHistoryContext=/*#__PURE__*/createContext();export const useBattleHistory=()=>{const context=useContext(BattleHistoryContext);if(!context){throw new Error('useBattleHistory must be used within BattleHistoryProvider');}return context;};export const BattleHistoryProvider=_ref=>{let{children}=_ref;const[battles,setBattles]=useState([]);const[stats,setStats]=useState({totalBattles:0,wins:0,losses:0,draws:0,totalWagered:0,totalWon:0,totalLost:0,winRate:0,profitLoss:0});const addBattle=battle=>{const newBattle=_objectSpread({id:Date.now(),timestamp:new Date()},battle);setBattles(prev=>[newBattle,...prev]);updateStats(newBattle);return newBattle.id;};const updateStats=battle=>{setStats(prev=>{const totalBattles=prev.totalBattles+1;const wins=battle.result==='win'?prev.wins+1:prev.wins;const losses=battle.result==='loss'?prev.losses+1:prev.losses;const draws=battle.result==='draw'?prev.draws+1:prev.draws;const totalWagered=prev.totalWagered+(battle.stake||0);const totalWon=battle.result==='win'?prev.totalWon+(battle.payout||0):prev.totalWon;const totalLost=battle.result==='loss'?prev.totalLost+(battle.stake||0):prev.totalLost;const winRate=totalBattles>0?(wins/totalBattles*100).toFixed(2):0;const profitLoss=totalWon-totalLost;return{totalBattles,wins,losses,draws,totalWagered,totalWon,totalLost,winRate,profitLoss};});};const getBattlesByType=type=>{return battles.filter(b=>b.type===type);};const getBattlesByResult=result=>{return battles.filter(b=>b.result===result);};const clearHistory=()=>{setBattles([]);setStats({totalBattles:0,wins:0,losses:0,draws:0,totalWagered:0,totalWon:0,totalLost:0,winRate:0,profitLoss:0});};return/*#__PURE__*/_jsx(BattleHistoryContext.Provider,{value:{battles,stats,addBattle,getBattlesByType,getBattlesByResult,clearHistory},children:children});};","map":{"version":3,"names":["createContext","useContext","useState","jsx","_jsx","BattleHistoryContext","useBattleHistory","context","Error","BattleHistoryProvider","_ref","children","battles","setBattles","stats","setStats","totalBattles","wins","losses","draws","totalWagered","totalWon","totalLost","winRate","profitLoss","addBattle","battle","newBattle","_objectSpread","id","Date","now","timestamp","prev","updateStats","result","stake","payout","toFixed","getBattlesByType","type","filter","b","getBattlesByResult","clearHistory","Provider","value"],"sources":["/Users/idcuq/Documents/AION-X POLYGON/Aion-x-main/frontend/src/context/BattleHistoryContext.jsx"],"sourcesContent":["import { createContext, useContext, useState } from 'react';\n\nconst BattleHistoryContext = createContext();\n\nexport const useBattleHistory = () => {\n  const context = useContext(BattleHistoryContext);\n  if (!context) {\n    throw new Error('useBattleHistory must be used within BattleHistoryProvider');\n  }\n  return context;\n};\n\nexport const BattleHistoryProvider = ({ children }) => {\n  const [battles, setBattles] = useState([]);\n  const [stats, setStats] = useState({\n    totalBattles: 0,\n    wins: 0,\n    losses: 0,\n    draws: 0,\n    totalWagered: 0,\n    totalWon: 0,\n    totalLost: 0,\n    winRate: 0,\n    profitLoss: 0,\n  });\n\n  const addBattle = (battle) => {\n    const newBattle = {\n      id: Date.now(),\n      timestamp: new Date(),\n      ...battle,\n    };\n\n    setBattles((prev) => [newBattle, ...prev]);\n    updateStats(newBattle);\n    \n    return newBattle.id;\n  };\n\n  const updateStats = (battle) => {\n    setStats((prev) => {\n      const totalBattles = prev.totalBattles + 1;\n      const wins = battle.result === 'win' ? prev.wins + 1 : prev.wins;\n      const losses = battle.result === 'loss' ? prev.losses + 1 : prev.losses;\n      const draws = battle.result === 'draw' ? prev.draws + 1 : prev.draws;\n      const totalWagered = prev.totalWagered + (battle.stake || 0);\n      const totalWon = battle.result === 'win' ? prev.totalWon + (battle.payout || 0) : prev.totalWon;\n      const totalLost = battle.result === 'loss' ? prev.totalLost + (battle.stake || 0) : prev.totalLost;\n      const winRate = totalBattles > 0 ? ((wins / totalBattles) * 100).toFixed(2) : 0;\n      const profitLoss = totalWon - totalLost;\n\n      return {\n        totalBattles,\n        wins,\n        losses,\n        draws,\n        totalWagered,\n        totalWon,\n        totalLost,\n        winRate,\n        profitLoss,\n      };\n    });\n  };\n\n  const getBattlesByType = (type) => {\n    return battles.filter((b) => b.type === type);\n  };\n\n  const getBattlesByResult = (result) => {\n    return battles.filter((b) => b.result === result);\n  };\n\n  const clearHistory = () => {\n    setBattles([]);\n    setStats({\n      totalBattles: 0,\n      wins: 0,\n      losses: 0,\n      draws: 0,\n      totalWagered: 0,\n      totalWon: 0,\n      totalLost: 0,\n      winRate: 0,\n      profitLoss: 0,\n    });\n  };\n\n  return (\n    <BattleHistoryContext.Provider\n      value={{\n        battles,\n        stats,\n        addBattle,\n        getBattlesByType,\n        getBattlesByResult,\n        clearHistory,\n      }}\n    >\n      {children}\n    </BattleHistoryContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}