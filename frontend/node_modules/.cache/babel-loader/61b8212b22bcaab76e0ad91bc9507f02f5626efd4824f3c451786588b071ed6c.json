{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import BattleResultModal from'@/components/BattleResultModal';import{Select,SelectTrigger,SelectValue,SelectContent,SelectItem}from\"@/components/ui/select\";import{Button}from\"@/components/ui/button\";import{useWallet}from'@/context/WalletContext';import{useContract}from'@/hooks/useContract';import{getOpenMarkets}from'@/utils/contract';import{User}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Label=_ref=>{let{children,className=\"\"}=_ref;return/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium \".concat(className),children:children});};const COINS=[\"BTCUSDT\",\"ETHUSDT\",\"SOLUSDT\",\"BNBUSDT\",\"XRPUSDT\"];export default function HumanvsHumanModal(_ref2){let{isOpen,onClose}=_ref2;if(!isOpen)return null;return/*#__PURE__*/_jsx(FullscreenBattleModal,{onClose:onClose});}function FullscreenBattleModal(_ref3){var _selectedMarket$id;let{onClose}=_ref3;const{address,isConnected}=useWallet();const{handlePlaceBet,loading:contractLoading}=useContract();const[asset,setAsset]=useState(COINS[0]);const[timeframe]=useState('M10');const[openMarkets,setOpenMarkets]=useState([]);const[selectedMarket,setSelectedMarket]=useState(null);const[price,setPrice]=useState(null);const[startPrice,setStartPrice]=useState(null);const wsRef=useRef(null);const lastPriceRef=useRef(null);const lastUpdateRef=useRef(0);const[player1Name]=useState('Player 1');const[player1Avatar]=useState(null);const[player1Ready,setPlayer1Ready]=useState(false);const[player1Pred,setPlayer1Pred]=useState(null);const[player2Name]=useState('Player 2');const[player2Avatar]=useState(null);const[player2Ready,setPlayer2Ready]=useState(false);const[player2Pred,setPlayer2Pred]=useState(null);const[stake,setStake]=useState(10);const[isRunning,setIsRunning]=useState(false);const[countdown,setCountdown]=useState(0);const[battleTime,setBattleTime]=useState(0);const[targetTime,setTargetTime]=useState(0);const[leaderboard,setLeaderboard]=useState({Player1:0,Player2:0});const[history,setHistory]=useState([]);const[showResult,setShowResult]=useState(false);const[battleResult,setBattleResult]=useState(null);const bothReady=player1Ready&&player2Ready;useEffect(()=>{const fetchMarkets=async()=>{const markets=await getOpenMarkets();setOpenMarkets(markets);const assetMarket=markets.find(m=>m.title.includes(asset.replace('USDT','')));if(assetMarket)setSelectedMarket(assetMarket);};fetchMarkets();const interval=setInterval(fetchMarkets,30000);return()=>clearInterval(interval);},[asset]);useEffect(()=>{const symbol=asset===null||asset===void 0?void 0:asset.toLowerCase();if(!symbol)return;try{if(wsRef.current){try{wsRef.current.close();}catch(e){}}wsRef.current=new WebSocket(\"wss://stream.binance.com:9443/ws/\".concat(symbol,\"@trade\"));wsRef.current.onmessage=evt=>{try{const d=JSON.parse(evt.data);if(d&&d.p){const p=parseFloat(d.p);lastPriceRef.current=p;const now=Date.now();if(now-lastUpdateRef.current>300){lastUpdateRef.current=now;setPrice(p);}}}catch(e){}};wsRef.current.onerror=()=>{};}catch(e){}return()=>{try{var _wsRef$current;(_wsRef$current=wsRef.current)===null||_wsRef$current===void 0?void 0:_wsRef$current.close();}catch(e){}wsRef.current=null;};},[asset]);const handlePlayer1Ready=()=>{if(!player1Pred)return alert(\"Player 1 harus memilih prediksi.\");setPlayer1Ready(true);};const handlePlayer2Ready=()=>{if(!player2Pred)return alert(\"Player 2 harus memilih prediksi.\");setPlayer2Ready(true);};const startBattle=async()=>{if(!isConnected)return alert(\"Connect wallet terlebih dahulu.\");if(!bothReady)return alert(\"Kedua player harus ready terlebih dahulu.\");try{const timeframeSeconds=600;if(!selectedMarket){alert('No open market available. Please wait or select another asset.');return;}const marketId=selectedMarket.id;const outcome=player1Pred==='Bullish'?0:1;await handlePlaceBet(marketId,outcome,stake);console.log(\"Player 1 bet placed on Market \".concat(marketId));setStartPrice(price);setCountdown(5);setBattleTime(timeframeSeconds);setTargetTime(timeframeSeconds);setIsRunning(true);}catch(error){console.error('Start battle error:',error);}};useEffect(()=>{if(!isRunning)return;if(countdown>0){const t=setTimeout(()=>setCountdown(c=>c-1),1000);return()=>clearTimeout(t);}},[isRunning,countdown]);useEffect(()=>{if(!isRunning||countdown>0)return;if(battleTime<=0){resolveBattle();return;}const interval=setInterval(()=>{setBattleTime(t=>t-1);},1000);return()=>clearInterval(interval);},[isRunning,countdown,battleTime]);const resolveBattle=async()=>{const before=startPrice||price;const move=(Math.random()-0.5)*0.02;const after=before?+(before*(1+move)).toFixed(2):null;const outcome=after&&before?after>before?\"Bullish\":after<before?\"Bearish\":\"Flat\":Math.random()>0.5?\"Bullish\":\"Bearish\";const p1Wins=player1Pred===outcome;const p2Wins=player2Pred===outcome;setLeaderboard(lb=>({Player1:lb.Player1+(p1Wins?1:0),Player2:lb.Player2+(p2Wins?1:0)}));const grossPayout=stake*2;const fee=grossPayout*0.02;const netPayout=grossPayout-fee;const p1Payout=p1Wins?netPayout:0;const p2Payout=p2Wins?netPayout:0;setHistory(h=>[{id:Date.now(),asset,before,after,outcome,p1Pred:player1Pred,p2Pred:player2Pred,p1Win:p1Wins,p2Win:p2Wins,p1Payout,p2Payout},...h]);setIsRunning(false);setCountdown(0);setPlayer1Pred(null);setPlayer2Pred(null);setPlayer1Ready(false);setPlayer2Ready(false);// Show result for current user (assume player 1)\nsetBattleResult({won:p1Wins,prediction:player1Pred.toUpperCase(),outcome:outcome.toUpperCase(),stake:stake,payout:p1Payout,profit:p1Wins?netPayout-stake:0,fee:p1Wins?fee:0,asset:asset});setShowResult(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 bg-slate-900/95 flex items-center justify-center p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-5xl bg-slate-800/80 border border-slate-700 rounded-2xl shadow-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold bg-gradient-to-r from-pink-400 to-orange-400 bg-clip-text text-transparent\",children:\"Human vs Human Battle Arena\"}),/*#__PURE__*/_jsx(Button,{onClick:onClose,variant:\"outline\",children:\"\\u2715 Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"CURRENT PRICE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-cyan-400\",children:price?\"$\".concat(price.toLocaleString()):\"$---\"}),isRunning&&startPrice&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-slate-400 mt-1\",children:[\"Start: $\",startPrice.toLocaleString()]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-[10px] text-slate-500 mt-1\",children:\"Powered by Pyth Network\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1\",children:[/*#__PURE__*/_jsx(Label,{children:\"Select Market\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsxs(Select,{value:selectedMarket===null||selectedMarket===void 0?void 0:(_selectedMarket$id=selectedMarket.id)===null||_selectedMarket$id===void 0?void 0:_selectedMarket$id.toString(),onValueChange:v=>{const market=openMarkets.find(m=>m.id.toString()===v);setSelectedMarket(market);if(market!==null&&market!==void 0&&market.title.includes('BTC'))setAsset('BTCUSDT');else if(market!==null&&market!==void 0&&market.title.includes('ETH'))setAsset('ETHUSDT');else if(market!==null&&market!==void 0&&market.title.includes('SOL'))setAsset('SOLUSDT');else if(market!==null&&market!==void 0&&market.title.includes('BNB'))setAsset('BNBUSDT');else if(market!==null&&market!==void 0&&market.title.includes('XRP'))setAsset('XRPUSDT');},children:[/*#__PURE__*/_jsx(SelectTrigger,{children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select Market\"})}),/*#__PURE__*/_jsxs(SelectContent,{children:[openMarkets.length===0&&/*#__PURE__*/_jsx(SelectItem,{value:\"none\",disabled:true,children:\"Loading markets...\"}),openMarkets.map(m=>/*#__PURE__*/_jsxs(SelectItem,{value:m.id.toString(),children:[m.title,\" (\",Math.floor((m.closeTime-Date.now()/1000)/60),\"m left)\"]},m.id))]})]})}),selectedMarket&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-slate-400 mt-1\",children:[\"Market #\",selectedMarket.id,\" \\u2022 Pool: \",parseFloat(selectedMarket.totalStaked).toFixed(2),\" AION\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(Label,{children:\"Battle Duration\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-2xl font-bold text-cyan-400\",children:\"10 Minutes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-400\",children:\"Fixed duration for all battles\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-2 rounded-lg \".concat(player1Ready?'bg-pink-900/50 border-pink-500':'bg-pink-900/30 border-pink-500/50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center overflow-hidden\",children:player1Avatar?/*#__PURE__*/_jsx(\"img\",{src:player1Avatar,alt:\"Avatar\",className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(User,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-pink-300\",children:player1Name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-400\",children:address?\"\".concat(address.slice(0,6),\"...\").concat(address.slice(-4)):'Not Connected'})]})]}),player1Ready&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-400 font-bold\",children:\"\\u2713 READY\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-pink-300 mb-3\",children:\"\\uD83D\\uDC64 Player 1's Prediction\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:player1Pred==='Bullish'?'default':'outline',onClick:()=>setPlayer1Pred('Bullish'),className:\"w-full \".concat(player1Pred==='Bullish'?'bg-green-500 hover:bg-green-600':''),disabled:player1Ready||isRunning,children:\"\\uD83D\\uDCC8 Bullish\"}),/*#__PURE__*/_jsx(Button,{variant:player1Pred==='Bearish'?'default':'outline',onClick:()=>setPlayer1Pred('Bearish'),className:\"w-full \".concat(player1Pred==='Bearish'?'bg-red-500 hover:bg-red-600':''),disabled:player1Ready||isRunning,children:\"\\uD83D\\uDCC9 Bearish\"})]}),player1Pred&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 font-bold text-center \".concat(player1Pred==='Bullish'?'text-green-400':'text-red-400'),children:[\"Selected: \",player1Pred==='Bullish'?'üìà BULLISH':'üìâ BEARISH']}),!player1Ready&&/*#__PURE__*/_jsx(Button,{onClick:handlePlayer1Ready,className:\"w-full mt-4 bg-pink-500 hover:bg-pink-600\",disabled:isRunning,children:\"I'm Ready!\"}),player1Ready&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center text-green-400 font-bold\",children:\"Waiting for Player 2...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-2 rounded-lg \".concat(player2Ready?'bg-orange-900/50 border-orange-500':'bg-orange-900/30 border-orange-500/50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full bg-gradient-to-r from-orange-500 to-amber-500 flex items-center justify-center overflow-hidden\",children:player2Avatar?/*#__PURE__*/_jsx(\"img\",{src:player2Avatar,alt:\"Avatar\",className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(User,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-orange-300\",children:player2Name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-400\",children:address?\"\".concat(address.slice(0,6),\"...\").concat(address.slice(-4)):'Not Connected'})]})]}),player2Ready&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-400 font-bold\",children:\"\\u2713 READY\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-orange-300 mb-3\",children:\"\\uD83D\\uDC64 Player 2's Prediction\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:player2Pred==='Bullish'?'default':'outline',onClick:()=>setPlayer2Pred('Bullish'),className:\"w-full \".concat(player2Pred==='Bullish'?'bg-green-500 hover:bg-green-600':''),disabled:player2Ready||isRunning,children:\"\\uD83D\\uDCC8 Bullish\"}),/*#__PURE__*/_jsx(Button,{variant:player2Pred==='Bearish'?'default':'outline',onClick:()=>setPlayer2Pred('Bearish'),className:\"w-full \".concat(player2Pred==='Bearish'?'bg-red-500 hover:bg-red-600':''),disabled:player2Ready||isRunning,children:\"\\uD83D\\uDCC9 Bearish\"})]}),player2Pred&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 font-bold text-center \".concat(player2Pred==='Bullish'?'text-green-400':'text-red-400'),children:[\"Selected: \",player2Pred==='Bullish'?'üìà BULLISH':'üìâ BEARISH']}),!player2Ready&&/*#__PURE__*/_jsx(Button,{onClick:handlePlayer2Ready,className:\"w-full mt-4 bg-orange-500 hover:bg-orange-600\",disabled:isRunning,children:\"I'm Ready!\"}),player2Ready&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center text-green-400 font-bold\",children:\"Waiting for Player 1...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-2 gap-4 items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"Stake Amount (AION)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"w-full mt-1 p-2 rounded-md bg-slate-900 border\",value:stake,onChange:e=>setStake(Number(e.target.value)),disabled:isRunning}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-400 mt-1\",children:\"\\uD83C\\uDFAF Win: ~1.96x stake (2% fee)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[isRunning&&countdown===0&&battleTime>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-400\",children:[\"Time Remaining (\",timeframe,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-mono font-bold text-cyan-400\",children:[Math.floor(battleTime/60),\":\",(battleTime%60).toString().padStart(2,'0')]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-slate-700 rounded-full h-2 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-cyan-500 to-blue-500 h-2 rounded-full transition-all duration-1000\",style:{width:\"\".concat(battleTime/targetTime*100,\"%\")}})})]}),isRunning&&countdown>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-400\",children:\"Starting in\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold text-yellow-400 animate-pulse\",children:countdown})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{onClick:()=>{setPlayer1Pred(null);setPlayer2Pred(null);setPlayer1Ready(false);setPlayer2Ready(false);setStake(10);},disabled:isRunning,children:\"Reset\"}),/*#__PURE__*/_jsx(Button,{onClick:startBattle,disabled:!bothReady||isRunning||contractLoading,className:\"bg-gradient-to-r from-pink-500 to-orange-500\",children:contractLoading?'Approving...':bothReady?'Start Battle':'Waiting for Players...'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"Leaderboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-pink-900/50 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-pink-400\",children:\"\\uD83D\\uDC64 Player 1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg text-pink-300\",children:leaderboard.Player1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-orange-900/50 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-orange-400\",children:\"\\uD83D\\uDC64 Player 2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-lg text-orange-300\",children:leaderboard.Player2})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 max-h-40 overflow-auto text-xs\",children:history.map(h=>{var _h$before,_h$after;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 border-b border-slate-700\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Outcome: \",h.outcome]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-slate-400\",children:[\"P1: \",h.p1Pred,\" \",h.p1Win?'‚úÖ':'‚ùå',\" \\u2022 P2: \",h.p2Pred,\" \",h.p2Win?'‚úÖ':'‚ùå']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-slate-500\",children:[(_h$before=h.before)!==null&&_h$before!==void 0?_h$before:'-',\" \\u2192 \",(_h$after=h.after)!==null&&_h$after!==void 0?_h$after:'-']})]},h.id);})})]})]})]}),/*#__PURE__*/_jsx(BattleResultModal,{isOpen:showResult,onClose:()=>setShowResult(false),result:battleResult})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","BattleResultModal","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Button","useWallet","useContract","getOpenMarkets","User","jsx","_jsx","jsxs","_jsxs","Label","_ref","children","className","concat","COINS","HumanvsHumanModal","_ref2","isOpen","onClose","FullscreenBattleModal","_ref3","_selectedMarket$id","address","isConnected","handlePlaceBet","loading","contractLoading","asset","setAsset","timeframe","openMarkets","setOpenMarkets","selectedMarket","setSelectedMarket","price","setPrice","startPrice","setStartPrice","wsRef","lastPriceRef","lastUpdateRef","player1Name","player1Avatar","player1Ready","setPlayer1Ready","player1Pred","setPlayer1Pred","player2Name","player2Avatar","player2Ready","setPlayer2Ready","player2Pred","setPlayer2Pred","stake","setStake","isRunning","setIsRunning","countdown","setCountdown","battleTime","setBattleTime","targetTime","setTargetTime","leaderboard","setLeaderboard","Player1","Player2","history","setHistory","showResult","setShowResult","battleResult","setBattleResult","bothReady","fetchMarkets","markets","assetMarket","find","m","title","includes","replace","interval","setInterval","clearInterval","symbol","toLowerCase","current","close","e","WebSocket","onmessage","evt","d","JSON","parse","data","p","parseFloat","now","Date","onerror","_wsRef$current","handlePlayer1Ready","alert","handlePlayer2Ready","startBattle","timeframeSeconds","marketId","id","outcome","console","log","error","t","setTimeout","c","clearTimeout","resolveBattle","before","move","Math","random","after","toFixed","p1Wins","p2Wins","lb","grossPayout","fee","netPayout","p1Payout","p2Payout","h","p1Pred","p2Pred","p1Win","p2Win","won","prediction","toUpperCase","payout","profit","onClick","variant","toLocaleString","value","toString","onValueChange","v","market","placeholder","length","disabled","map","floor","closeTime","totalStaked","src","alt","slice","type","onChange","Number","target","padStart","style","width","_h$before","_h$after","result"],"sources":["/Users/idcuq/Documents/AION-X POLYGON/Aion-x-main/frontend/src/components/HumanvsHumanModal.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport BattleResultModal from '@/components/BattleResultModal';\nimport {\n  Select,\n  SelectTrigger,\n  SelectValue,\n  SelectContent,\n  SelectItem,\n} from \"@/components/ui/select\";\nimport { Button } from \"@/components/ui/button\";\nimport { useWallet } from '@/context/WalletContext';\nimport { useContract } from '@/hooks/useContract';\nimport { getOpenMarkets } from '@/utils/contract';\nimport { User } from 'lucide-react';\n\nconst Label = ({ children, className = \"\" }) => (\n  <label className={`text-sm font-medium ${className}`}>{children}</label>\n);\n\nconst COINS = [\"BTCUSDT\", \"ETHUSDT\", \"SOLUSDT\", \"BNBUSDT\", \"XRPUSDT\"];\n\n\nexport default function HumanvsHumanModal({ isOpen, onClose }) {\n  if (!isOpen) return null;\n  return <FullscreenBattleModal onClose={onClose} />;\n}\n\nfunction FullscreenBattleModal({ onClose }) {\n  const { address, isConnected } = useWallet();\n  const { handlePlaceBet, loading: contractLoading } = useContract();\n  const [asset, setAsset] = useState(COINS[0]);\n  const [timeframe] = useState('M10');\n  const [openMarkets, setOpenMarkets] = useState([]);\n  const [selectedMarket, setSelectedMarket] = useState(null);\n\n  const [price, setPrice] = useState(null);\n  const [startPrice, setStartPrice] = useState(null);\n  const wsRef = useRef(null);\n  const lastPriceRef = useRef(null);\n  const lastUpdateRef = useRef(0);\n\n  const [player1Name] = useState('Player 1');\n  const [player1Avatar] = useState(null);\n  const [player1Ready, setPlayer1Ready] = useState(false);\n  const [player1Pred, setPlayer1Pred] = useState(null);\n  \n  const [player2Name] = useState('Player 2');\n  const [player2Avatar] = useState(null);\n  const [player2Ready, setPlayer2Ready] = useState(false);\n  const [player2Pred, setPlayer2Pred] = useState(null);\n\n  const [stake, setStake] = useState(10);\n  const [isRunning, setIsRunning] = useState(false);\n  const [countdown, setCountdown] = useState(0);\n  const [battleTime, setBattleTime] = useState(0);\n  const [targetTime, setTargetTime] = useState(0);\n\n  const [leaderboard, setLeaderboard] = useState({ Player1: 0, Player2: 0 });\n  const [history, setHistory] = useState([]);\n  \n  const [showResult, setShowResult] = useState(false);\n  const [battleResult, setBattleResult] = useState(null);\n  \n  const bothReady = player1Ready && player2Ready;\n\n  useEffect(() => {\n    const fetchMarkets = async () => {\n      const markets = await getOpenMarkets();\n      setOpenMarkets(markets);\n      const assetMarket = markets.find(m => m.title.includes(asset.replace('USDT', '')));\n      if (assetMarket) setSelectedMarket(assetMarket);\n    };\n    fetchMarkets();\n    const interval = setInterval(fetchMarkets, 30000);\n    return () => clearInterval(interval);\n  }, [asset]);\n\n  useEffect(() => {\n    const symbol = asset?.toLowerCase();\n    if (!symbol) return;\n\n    try {\n      if (wsRef.current) {\n        try { wsRef.current.close(); } catch (e) {}\n      }\n      wsRef.current = new WebSocket(`wss://stream.binance.com:9443/ws/${symbol}@trade`);\n\n      wsRef.current.onmessage = (evt) => {\n        try {\n          const d = JSON.parse(evt.data);\n          if (d && d.p) {\n            const p = parseFloat(d.p);\n            lastPriceRef.current = p;\n            const now = Date.now();\n            if (now - lastUpdateRef.current > 300) {\n              lastUpdateRef.current = now;\n              setPrice(p);\n            }\n          }\n        } catch (e) {}\n      };\n\n      wsRef.current.onerror = () => {};\n    } catch (e) {}\n\n    return () => {\n      try { wsRef.current?.close(); } catch (e) {}\n      wsRef.current = null;\n    };\n  }, [asset]);\n\n  const handlePlayer1Ready = () => {\n    if (!player1Pred) return alert(\"Player 1 harus memilih prediksi.\");\n    setPlayer1Ready(true);\n  };\n  \n  const handlePlayer2Ready = () => {\n    if (!player2Pred) return alert(\"Player 2 harus memilih prediksi.\");\n    setPlayer2Ready(true);\n  };\n\n  const startBattle = async () => {\n    if (!isConnected) return alert(\"Connect wallet terlebih dahulu.\");\n    if (!bothReady) return alert(\"Kedua player harus ready terlebih dahulu.\");\n    \n    try {\n      const timeframeSeconds = 600;\n      \n      if (!selectedMarket) {\n        alert('No open market available. Please wait or select another asset.');\n        return;\n      }\n      \n      const marketId = selectedMarket.id;\n      const outcome = player1Pred === 'Bullish' ? 0 : 1;\n      await handlePlaceBet(marketId, outcome, stake);\n      \n      console.log(`Player 1 bet placed on Market ${marketId}`);\n      \n      setStartPrice(price);\n      setCountdown(5);\n      setBattleTime(timeframeSeconds);\n      setTargetTime(timeframeSeconds);\n      setIsRunning(true);\n    } catch (error) {\n      console.error('Start battle error:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (!isRunning) return;\n    if (countdown > 0) {\n      const t = setTimeout(() => setCountdown((c) => c - 1), 1000);\n      return () => clearTimeout(t);\n    }\n  }, [isRunning, countdown]);\n  \n  useEffect(() => {\n    if (!isRunning || countdown > 0) return;\n    if (battleTime <= 0) {\n      resolveBattle();\n      return;\n    }\n    const interval = setInterval(() => {\n      setBattleTime((t) => t - 1);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [isRunning, countdown, battleTime]);\n\n  const resolveBattle = async () => {\n    const before = startPrice || price;\n    const move = (Math.random() - 0.5) * 0.02;\n    const after = before ? +(before * (1 + move)).toFixed(2) : null;\n    const outcome = after && before ? (after > before ? \"Bullish\" : after < before ? \"Bearish\" : \"Flat\") : (Math.random() > 0.5 ? \"Bullish\" : \"Bearish\");\n\n    const p1Wins = player1Pred === outcome;\n    const p2Wins = player2Pred === outcome;\n\n    setLeaderboard((lb) => ({ \n      Player1: lb.Player1 + (p1Wins ? 1 : 0), \n      Player2: lb.Player2 + (p2Wins ? 1 : 0) \n    }));\n\n    const grossPayout = stake * 2;\n    const fee = grossPayout * 0.02;\n    const netPayout = grossPayout - fee;\n    const p1Payout = p1Wins ? netPayout : 0;\n    const p2Payout = p2Wins ? netPayout : 0;\n\n    setHistory((h) => [{ \n      id: Date.now(), \n      asset, \n      before, \n      after, \n      outcome, \n      p1Pred: player1Pred, \n      p2Pred: player2Pred, \n      p1Win: p1Wins, \n      p2Win: p2Wins,\n      p1Payout,\n      p2Payout\n    }, ...h]);\n\n    setIsRunning(false);\n    setCountdown(0);\n    setPlayer1Pred(null);\n    setPlayer2Pred(null);\n    setPlayer1Ready(false);\n    setPlayer2Ready(false);\n\n    // Show result for current user (assume player 1)\n    setBattleResult({\n      won: p1Wins,\n      prediction: player1Pred.toUpperCase(),\n      outcome: outcome.toUpperCase(),\n      stake: stake,\n      payout: p1Payout,\n      profit: p1Wins ? netPayout - stake : 0,\n      fee: p1Wins ? fee : 0,\n      asset: asset\n    });\n    setShowResult(true);\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-slate-900/95 flex items-center justify-center p-6\">\n      <div className=\"w-full max-w-5xl bg-slate-800/80 border border-slate-700 rounded-2xl shadow-2xl p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-2xl font-bold bg-gradient-to-r from-pink-400 to-orange-400 bg-clip-text text-transparent\">Human vs Human Battle Arena</h3>\n          <Button onClick={onClose} variant=\"outline\">‚úï Close</Button>\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-4 items-center\">\n          <div>\n            <Label>CURRENT PRICE</Label>\n            <div className=\"text-2xl font-bold text-cyan-400\">{price ? `$${price.toLocaleString()}` : \"$---\"}</div>\n            {isRunning && startPrice && (\n              <div className=\"text-xs text-slate-400 mt-1\">\n                Start: ${startPrice.toLocaleString()}\n              </div>\n            )}\n            <div className=\"text-[10px] text-slate-500 mt-1\">Powered by Pyth Network</div>\n          </div>\n\n          <div className=\"col-span-1\">\n            <Label>Select Market</Label>\n            <div className=\"mt-1\">\n              <Select value={selectedMarket?.id?.toString()} onValueChange={(v) => {\n                const market = openMarkets.find(m => m.id.toString() === v);\n                setSelectedMarket(market);\n                if (market?.title.includes('BTC')) setAsset('BTCUSDT');\n                else if (market?.title.includes('ETH')) setAsset('ETHUSDT');\n                else if (market?.title.includes('SOL')) setAsset('SOLUSDT');\n                else if (market?.title.includes('BNB')) setAsset('BNBUSDT');\n                else if (market?.title.includes('XRP')) setAsset('XRPUSDT');\n              }}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select Market\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {openMarkets.length === 0 && (\n                    <SelectItem value=\"none\" disabled>Loading markets...</SelectItem>\n                  )}\n                  {openMarkets.map((m) => (\n                    <SelectItem key={m.id} value={m.id.toString()}>\n                      {m.title} ({Math.floor((m.closeTime - Date.now()/1000)/60)}m left)\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            {selectedMarket && (\n              <div className=\"text-xs text-slate-400 mt-1\">\n                Market #{selectedMarket.id} ‚Ä¢ Pool: {parseFloat(selectedMarket.totalStaked).toFixed(2)} AION\n              </div>\n            )}\n          </div>\n\n          <div className=\"text-right\">\n            <Label>Battle Duration</Label>\n            <div className=\"mt-1 text-2xl font-bold text-cyan-400\">10 Minutes</div>\n            <div className=\"text-xs text-slate-400\">Fixed duration for all battles</div>\n          </div>\n        </div>\n\n        <div className=\"mt-6 grid grid-cols-2 gap-4\">\n          <div className={`p-4 border-2 rounded-lg ${player1Ready ? 'bg-pink-900/50 border-pink-500' : 'bg-pink-900/30 border-pink-500/50'}`}>\n            <div className=\"flex items-center justify-between mb-3\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center overflow-hidden\">\n                  {player1Avatar ? (\n                    <img src={player1Avatar} alt=\"Avatar\" className=\"w-full h-full object-cover\" />\n                  ) : (\n                    <User className=\"h-6 w-6 text-white\" />\n                  )}\n                </div>\n                <div>\n                  <div className=\"font-bold text-pink-300\">{player1Name}</div>\n                  <div className=\"text-xs text-slate-400\">{address ? `${address.slice(0, 6)}...${address.slice(-4)}` : 'Not Connected'}</div>\n                </div>\n              </div>\n              {player1Ready && <span className=\"text-xs text-green-400 font-bold\">‚úì READY</span>}\n            </div>\n            <div className=\"font-semibold text-pink-300 mb-3\">üë§ Player 1's Prediction</div>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <Button \n                variant={player1Pred === 'Bullish' ? 'default' : 'outline'} \n                onClick={() => setPlayer1Pred('Bullish')} \n                className={`w-full ${player1Pred === 'Bullish' ? 'bg-green-500 hover:bg-green-600' : ''}`}\n                disabled={player1Ready || isRunning}\n              >\n                üìà Bullish\n              </Button>\n              <Button \n                variant={player1Pred === 'Bearish' ? 'default' : 'outline'} \n                onClick={() => setPlayer1Pred('Bearish')} \n                className={`w-full ${player1Pred === 'Bearish' ? 'bg-red-500 hover:bg-red-600' : ''}`}\n                disabled={player1Ready || isRunning}\n              >\n                üìâ Bearish\n              </Button>\n            </div>\n            {player1Pred && (\n              <div className={`mt-3 font-bold text-center ${player1Pred === 'Bullish' ? 'text-green-400' : 'text-red-400'}`}>\n                Selected: {player1Pred === 'Bullish' ? 'üìà BULLISH' : 'üìâ BEARISH'}\n              </div>\n            )}\n            {!player1Ready && (\n              <Button onClick={handlePlayer1Ready} className=\"w-full mt-4 bg-pink-500 hover:bg-pink-600\" disabled={isRunning}>\n                I'm Ready!\n              </Button>\n            )}\n            {player1Ready && (\n              <div className=\"mt-4 text-center text-green-400 font-bold\">Waiting for Player 2...</div>\n            )}\n          </div>\n\n          <div className={`p-4 border-2 rounded-lg ${player2Ready ? 'bg-orange-900/50 border-orange-500' : 'bg-orange-900/30 border-orange-500/50'}`}>\n            <div className=\"flex items-center justify-between mb-3\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 rounded-full bg-gradient-to-r from-orange-500 to-amber-500 flex items-center justify-center overflow-hidden\">\n                  {player2Avatar ? (\n                    <img src={player2Avatar} alt=\"Avatar\" className=\"w-full h-full object-cover\" />\n                  ) : (\n                    <User className=\"h-6 w-6 text-white\" />\n                  )}\n                </div>\n                <div>\n                  <div className=\"font-bold text-orange-300\">{player2Name}</div>\n                  <div className=\"text-xs text-slate-400\">{address ? `${address.slice(0, 6)}...${address.slice(-4)}` : 'Not Connected'}</div>\n                </div>\n              </div>\n              {player2Ready && <span className=\"text-xs text-green-400 font-bold\">‚úì READY</span>}\n            </div>\n            <div className=\"font-semibold text-orange-300 mb-3\">üë§ Player 2's Prediction</div>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <Button \n                variant={player2Pred === 'Bullish' ? 'default' : 'outline'} \n                onClick={() => setPlayer2Pred('Bullish')} \n                className={`w-full ${player2Pred === 'Bullish' ? 'bg-green-500 hover:bg-green-600' : ''}`}\n                disabled={player2Ready || isRunning}\n              >\n                üìà Bullish\n              </Button>\n              <Button \n                variant={player2Pred === 'Bearish' ? 'default' : 'outline'} \n                onClick={() => setPlayer2Pred('Bearish')} \n                className={`w-full ${player2Pred === 'Bearish' ? 'bg-red-500 hover:bg-red-600' : ''}`}\n                disabled={player2Ready || isRunning}\n              >\n                üìâ Bearish\n              </Button>\n            </div>\n            {player2Pred && (\n              <div className={`mt-3 font-bold text-center ${player2Pred === 'Bullish' ? 'text-green-400' : 'text-red-400'}`}>\n                Selected: {player2Pred === 'Bullish' ? 'üìà BULLISH' : 'üìâ BEARISH'}\n              </div>\n            )}\n            {!player2Ready && (\n              <Button onClick={handlePlayer2Ready} className=\"w-full mt-4 bg-orange-500 hover:bg-orange-600\" disabled={isRunning}>\n                I'm Ready!\n              </Button>\n            )}\n            {player2Ready && (\n              <div className=\"mt-4 text-center text-green-400 font-bold\">Waiting for Player 1...</div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"mt-6 grid grid-cols-2 gap-4 items-end\">\n          <div>\n            <Label>Stake Amount (AION)</Label>\n            <input type=\"number\" className=\"w-full mt-1 p-2 rounded-md bg-slate-900 border\" value={stake} onChange={(e) => setStake(Number(e.target.value))} disabled={isRunning} />\n            <div className=\"text-xs text-slate-400 mt-1\">üéØ Win: ~1.96x stake (2% fee)</div>\n          </div>\n\n          <div className=\"text-right\">\n            {isRunning && countdown === 0 && battleTime > 0 && (\n              <div className=\"mb-2 text-center\">\n                <div className=\"text-sm text-slate-400\">Time Remaining ({timeframe})</div>\n                <div className=\"text-3xl font-mono font-bold text-cyan-400\">\n                  {Math.floor(battleTime / 60)}:{(battleTime % 60).toString().padStart(2, '0')}\n                </div>\n                <div className=\"w-full bg-slate-700 rounded-full h-2 mt-2\">\n                  <div \n                    className=\"bg-gradient-to-r from-cyan-500 to-blue-500 h-2 rounded-full transition-all duration-1000\"\n                    style={{ width: `${(battleTime / targetTime) * 100}%` }}\n                  />\n                </div>\n              </div>\n            )}\n            {isRunning && countdown > 0 && (\n              <div className=\"mb-2 text-center\">\n                <div className=\"text-sm text-slate-400\">Starting in</div>\n                <div className=\"text-4xl font-bold text-yellow-400 animate-pulse\">{countdown}</div>\n              </div>\n            )}\n            <div className=\"flex gap-2\">\n              <Button onClick={() => { setPlayer1Pred(null); setPlayer2Pred(null); setPlayer1Ready(false); setPlayer2Ready(false); setStake(10); }} disabled={isRunning}>Reset</Button>\n              <Button onClick={startBattle} disabled={!bothReady || isRunning || contractLoading} className=\"bg-gradient-to-r from-pink-500 to-orange-500\">\n                {contractLoading ? 'Approving...' : bothReady ? 'Start Battle' : 'Waiting for Players...'}\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-6 grid grid-cols-2 gap-4\">\n          <div>\n            <Label>Leaderboard</Label>\n            <div className=\"mt-2 grid grid-cols-2 gap-2\">\n              <div className=\"p-2 bg-pink-900/50 rounded\"> \n                <div className=\"text-xs text-pink-400\">üë§ Player 1</div>\n                <div className=\"font-bold text-lg text-pink-300\">{leaderboard.Player1}</div>\n              </div>\n              <div className=\"p-2 bg-orange-900/50 rounded\"> \n                <div className=\"text-xs text-orange-400\">üë§ Player 2</div>\n                <div className=\"font-bold text-lg text-orange-300\">{leaderboard.Player2}</div>\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <Label>History</Label>\n            <div className=\"mt-2 max-h-40 overflow-auto text-xs\">\n              {history.map((h) => (\n                <div key={h.id} className=\"p-2 border-b border-slate-700\">\n                  <div>Outcome: {h.outcome}</div>\n                  <div className=\"text-slate-400\">\n                    P1: {h.p1Pred} {h.p1Win ? '‚úÖ' : '‚ùå'} ‚Ä¢ P2: {h.p2Pred} {h.p2Win ? '‚úÖ' : '‚ùå'}\n                  </div>\n                  <div className=\"text-slate-500\">{h.before ?? '-'} ‚Üí {h.after ?? '-'}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <BattleResultModal\n        isOpen={showResult}\n        onClose={() => setShowResult(false)}\n        result={battleResult}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}